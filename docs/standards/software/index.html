<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="search" type="application/opensearchdescription+xml" title="Glasswall SRE" href="/opensearch.xml"><title data-react-helmet="true">SRE Software Standards | Glasswall SRE</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="SRE Software Standards | Glasswall SRE"><meta data-react-helmet="true" name="description" content="Standards for software development in SRE"><meta data-react-helmet="true" property="og:description" content="Standards for software development in SRE"><meta data-react-helmet="true" property="og:url" content="https://https://glasswall-sre.github.io//docs/standards/software"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://https://glasswall-sre.github.io//docs/standards/software"><link rel="stylesheet" href="/styles.e7a449ff.css">
<link rel="preload" href="/styles.98f7fc70.js" as="script">
<link rel="preload" href="/runtime~main.c24d5074.js" as="script">
<link rel="preload" href="/main.b6069879.js" as="script">
<link rel="preload" href="/1.cc125361.js" as="script">
<link rel="preload" href="/2.63ef8cf0.js" as="script">
<link rel="preload" href="/29.08a3c920.js" as="script">
<link rel="preload" href="/32.37601711.js" as="script">
<link rel="preload" href="/935f2afb.3c11b80e.js" as="script">
<link rel="preload" href="/17896441.202f344e.js" as="script">
<link rel="preload" href="/3c2eea91.4d953a28.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">Glasswall SRE</strong></a><a class="navbar__item navbar__link" href="/docs/sre/what-is-sre">Docs</a><a class="navbar__item navbar__link" href="/docs/products/rebuild-email/introduction">Products</a><a class="navbar__item navbar__link" href="/techradar">Supported Tech</a></div><div class="navbar__items navbar__items--right"><a href="https://medium.com/glasswall-engineering" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Medium</a><a href="https://github.com/Glasswall-SRE" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">Glasswall SRE</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/sre/what-is-sre">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/products/rebuild-email/introduction">Products</a></li><li class="menu__list-item"><a class="menu__link" href="/techradar">Supported Tech</a></li><li class="menu__list-item"><a href="https://medium.com/glasswall-engineering" target="_blank" rel="noopener noreferrer" class="menu__link">Medium</a></li><li class="menu__list-item"><a href="https://github.com/Glasswall-SRE" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SRE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sre/what-is-sre">What is SRE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sre/slo-slis">SLO and SLIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sre/error-budget-policy">Error Budget Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sre/failure-friday">Failure Friday</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Production</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/production/journey-to-production">Journey to Production</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/production/production-readiness-review">Production Readiness Review</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/production/production-release-process">Production Release Process</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Incident and Monitoring</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/incident-monitoring/incident-classification">Incident Classification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/incident-monitoring/incident-management">Incident Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/incident-monitoring/monitoring">Monitoring</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Products</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Rebuild for Email</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/products/rebuild-email/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/products/rebuild-email/slos">SLOs and SLIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/products/rebuild-email/releases">Releases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/products/rebuild-email/logging-retention">Logging Retention</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/products/rebuild-email/incident-events">Incident Events</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Security Policy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/products/rebuild-email/security-policy/data-management">Data Management</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Rebuild API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/products/rebuild-api/PRR">PRR</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Standards</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/standards/software">SRE Software Standards</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">SRE Software Standards</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="purpose"></a>Purpose<a aria-hidden="true" tabindex="-1" class="hash-link" href="#purpose" title="Direct link to heading">#</a></h1><p>In order to function effectively as a primarily engineering-focused team,
we need to have stringent standards for how our engineering is done.
This is to remove all ambiguity when it comes to how to go about engineering
work, as well as to make it easier for existing engineers and new joiners
to get used to the way we write/manage/maintain software.</p><p>This document will give an overview of our standards, and will evolve over
time as we expand our remit in terms of engineering work that we do.</p><p>We have standards for the following areas:</p><ul><li><a href="#purpose">Purpose</a></li><li><a href="#readme-standards">README standards</a></li><li><a href="#code-style-standards">Code style standards</a><ul><li><a href="#style-guides">Style guides</a><ul><li><a href="#python">Python</a><ul><li><a href="#overrides">Overrides</a></li></ul></li></ul></li></ul></li><li><a href="#documentation-standards">Documentation standards</a><ul><li><a href="#code-documentation">Code documentation</a></li><li><a href="#readmes">READMEs</a></li><li><a href="#api-documentation">API documentation</a></li><li><a href="#user-interface-documentation">User interface documentation</a></li><li><a href="#config-documentation">Config documentation</a></li><li><a href="#other-documentation">Other documentation</a></li></ul></li><li><a href="#testing-standards">Testing standards</a><ul><li><a href="#python-1">Python</a></li></ul></li><li><a href="#source-control-standards">Source control standards</a><ul><li><a href="#branch-naming">Branch naming</a></li><li><a href="#commit-messages">Commit messages</a></li><li><a href="#pull-requests">Pull requests</a></li><li><a href="#ignoring-files">Ignoring files</a></li><li><a href="#secrets">Secrets</a></li></ul></li><li><a href="#ci-and-cd-standards">CI and CD standards</a><ul><li><a href="#gated-build">Gated build</a></li><li><a href="#ci-build-continuous-integration">CI build (continuous integration)</a></li><li><a href="#cd-build-continuous-deployment">CD build (continuous deployment)</a></li></ul></li><li><a href="#configuration-standards">Configuration standards</a></li><li><a href="#code-review-standards">Code review standards</a></li><li><a href="#logging-standards">Logging standards</a></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="readme-standards"></a>README standards<a aria-hidden="true" tabindex="-1" class="hash-link" href="#readme-standards" title="Direct link to heading">#</a></h1><p>All projects must have a README in the root of the project repository. This
README serves to give people interested in the project a quick way of grokking
everything they&#x27;ll need to know about it.</p><p>The structure should be as follows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-markdown codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token title important punctuation" style="color:rgb(199, 146, 234)">#</span><span class="token title important"> {Project title}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">One paragraph description of project.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> User guide</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">A guide on how to use the software from a user perspective. This can be</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">omitted if it&#x27;s not user-facing software (i.e. a microservice or a cron</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lambda).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">###</span><span class="token title important"> Installation</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">How to install the software.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">###</span><span class="token title important"> Usage examples</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Quick examples of how to use the software.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">###</span><span class="token title important"> Detailed guide</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">More detail of the usage goes here.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> Developer guide</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Instructions to clone the repo and get started with developing the project.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">###</span><span class="token title important"> Prerequisites</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">A list of things you need to install to develop the project.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">###</span><span class="token title important"> Quick start</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">A (quick!) guide to getting the project up and running.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">###</span><span class="token title important"> Documentation</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">A link to the documentation of your project (if it has a link). This should</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">be something like an API reference.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">###</span><span class="token title important"> Testing</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">A guide to running tests that should (and can be) run locally. These are your</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">unit and integration tests.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">###</span><span class="token title important"> Deployment</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">A guide on how to deploy the project.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> Folder structure</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Explain the folder structure of your project in a hierarhical way with bullet points.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Any other useful information you can think of.</span></div></div></div></div></div><p>You can put the sections in any order you want as long as it makes logical sense.
You can also omit sections if they aren&#x27;t relevant to your project.</p><p>All projects need to have a README. If a project does not have a README this is
considered a bug. If a project has an empty README this is a bug. If a project
has an incomplete README this is a bug.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="code-style-standards"></a>Code style standards<a aria-hidden="true" tabindex="-1" class="hash-link" href="#code-style-standards" title="Direct link to heading">#</a></h1><p>Generally code should follow Google style guides. If a Google style guide
doesn&#x27;t exist for a particular language then follow the most commonly used
public style guide available. Do not write a new style guide for a language if
you can find a perfectly good one online, as it&#x27;s a huge undertaking and
there&#x27;s a lot that can and will be missed out on the first few iterations of
writing.</p><p>If there is any conflicting sections in a style guide you find online (for
example, if an online style guide has a section that is also listed in these
standards), then please give these standards priority over the style guide.</p><p>Below you can find our accepted style guides for each language that we use.
If in the future we start using a language that isn&#x27;t listed here, please add
it to this section and note the style guide that you have decided to use so
future projects in this new language can keep their standards uniform.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="style-guides"></a>Style guides<a aria-hidden="true" tabindex="-1" class="hash-link" href="#style-guides" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="python"></a>Python<a aria-hidden="true" tabindex="-1" class="hash-link" href="#python" title="Direct link to heading">#</a></h3><p>Google&#x27;s style guide: <a href="https://google.github.io/styleguide/pyguide.html" target="_blank" rel="noopener noreferrer">https://google.github.io/styleguide/pyguide.html</a></p><p>There&#x27;s a good example of usage here: <a href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html" target="_blank" rel="noopener noreferrer">https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html</a></p><ul><li>Use <a href="https://github.com/google/yapf" target="_blank" rel="noopener noreferrer">YAPF</a> to automatically format your code.
We recommend binding this to happen every time you save.</li><li>Use <a href="https://pypi.org/project/pylint/" target="_blank" rel="noopener noreferrer">Pylint</a> to lint your code.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overrides"></a>Overrides<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overrides" title="Direct link to heading">#</a></h4><ul><li>The character limit we use is 120, not Google&#x27;s suggested 80.</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="documentation-standards"></a>Documentation standards<a aria-hidden="true" tabindex="-1" class="hash-link" href="#documentation-standards" title="Direct link to heading">#</a></h1><p>We want to write documentation for almost everything we do as SREs. Whether it
is code, processes, playbooks, incidents, postmortems, whatever. This section
will specifically cover documentation for things related to engineering.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="code-documentation"></a>Code documentation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#code-documentation" title="Direct link to heading">#</a></h2><p>Documentation for code should be written in line with the style guide that is
being used. If the style guide for some reason omits documentation, then you
still need to write docstrings and comments for code. A suggestion for if
documentation is omitted from the style guide would be to write docstrings in
a format that can be read by some docstring generation tool (like
<a href="http://www.doxygen.nl/" target="_blank" rel="noopener noreferrer">Doxygen</a>). The aim is for API references to be
automatically generated for any code that we write.</p><p>All public and private interfaces <strong>MUST</strong> have docstrings.</p><p>Inline/block comments should be used where code needs it. Use your common
sense. Don&#x27;t over comment.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="readmes"></a>READMEs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#readmes" title="Direct link to heading">#</a></h2><p>READMEs should be written in line with the <a href="#readme-standards">README standards</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="api-documentation"></a>API documentation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#api-documentation" title="Direct link to heading">#</a></h2><p>If your application exposes any APIs be it HTTP, REST, RPC, or any other, then
it must be documented. Documentation should be generated from some kind of spec
using something like <a href="https://swagger.io/" target="_blank" rel="noopener noreferrer">Swagger</a> for example. For simple
APIs a section in the README in the user guide will be fine.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="user-interface-documentation"></a>User interface documentation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#user-interface-documentation" title="Direct link to heading">#</a></h2><p>If your app has a user interface (for example, a CLI or a GUI) then the usage
of this should be documented.</p><p>This could be as simple as a &#x27;Usage&#x27; section in the README (see
<a href="https://kubernetes.io/docs/reference/kubectl/overview/#syntax" target="_blank" rel="noopener noreferrer">here</a> for example), or &#x27;how-to&#x27; guides if your app has a GUI.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="config-documentation"></a>Config documentation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#config-documentation" title="Direct link to heading">#</a></h2><p>If your application uses config files, you must provide example config files,
as well as documentation of <strong>EVERY</strong> field that can be used in the config.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="other-documentation"></a>Other documentation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#other-documentation" title="Direct link to heading">#</a></h2><p>If your application uses any other things that can be documented (for example,
it has DDL for a database or helm charts or anything) comments should be used
within these files explaining anything that is not immediately clear.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="testing-standards"></a>Testing standards<a aria-hidden="true" tabindex="-1" class="hash-link" href="#testing-standards" title="Direct link to heading">#</a></h1><p>We expect your code to have tests to ensure it&#x27;s working to the specification.
Other parts of Glasswall use tests called &#x27;L0&#x27;, &#x27;L1&#x27; etc, we do not.
We generally use unit and integration tests. We expect code coverage to be
60% for existing code, and 80% for new code committed.</p><p>We use <a href="https://codecov.io/gh/glasswall-sre" target="_blank" rel="noopener noreferrer">Codecov</a> and
<a href="https://sonarcloud.io/organizations/glasswall-cloud-key-a42w31/projects?sort=-analysis_date" target="_blank" rel="noopener noreferrer">SonarCloud</a>
to measure code coverage.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="python-1"></a>Python<a aria-hidden="true" tabindex="-1" class="hash-link" href="#python-1" title="Direct link to heading">#</a></h2><ul><li>Use <a href="https://docs.pytest.org/en/stable/" target="_blank" rel="noopener noreferrer">Pytest</a> and <a href="https://pypi.org/project/pytest-cov/" target="_blank" rel="noopener noreferrer">Pytest-Cov</a> to test your code and get code coverage.</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="source-control-standards"></a>Source control standards<a aria-hidden="true" tabindex="-1" class="hash-link" href="#source-control-standards" title="Direct link to heading">#</a></h1><p>In order for our CI/CD pipelines to function effectively, we as a team need to
have well-defined guidelines for how we use source control. Good source control
practice also helps organise/track work items effectively.</p><p>All source control repositories must be Git repositories.</p><p>All repositories adhere to the <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/feature-branch-workflow" target="_blank" rel="noopener noreferrer">feature branch workflow</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="branch-naming"></a>Branch naming<a aria-hidden="true" tabindex="-1" class="hash-link" href="#branch-naming" title="Direct link to heading">#</a></h2><p>Branches should be named in the following format:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{initials}/{feature-description}</span></div></div></div></div></div><p>For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sg/fix-queue-bug</span></div></div></div></div></div><p>The reason for this is so that you can identify whose branch it is, the
backlog item it&#x27;s related to, and a short description of the feature.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="commit-messages"></a>Commit messages<a aria-hidden="true" tabindex="-1" class="hash-link" href="#commit-messages" title="Direct link to heading">#</a></h2><p>Commit messages should be in the following format:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#{issue-number}: {message}</span></div></div></div></div></div><p>For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#98765: Add error checking to queue pushing code</span></div></div></div></div></div><p>The reason for this is so that you can see which issue it&#x27;s related to
(and Azure DevOps will automatically pick this up and link it for you).</p><p><a href="https://chris.beams.io/posts/git-commit/" target="_blank" rel="noopener noreferrer">Here is</a> some good advice for
writing for writing commit messages. The commit message should read as
&quot;this commit will {message}&quot;. For example, &quot;this commit will add error
checking to queue pushing code&quot;. Writing the commit as &quot;added error checking
to queue pushing code&quot; would be incorrect, as it would read &quot;this commit will
added error checking to queue pushing code&quot;.</p><p>This seems pedantic, but it really helps out when reading the git log.</p><p>Another good source of information for writing commit messages is
<a href="https://google.github.io/eng-practices/review/developer/cl-descriptions.html" target="_blank" rel="noopener noreferrer">Google&#x27;s advice</a>.
Please note that Google refers to these as a &#x27;CL&#x27;, or &#x27;change list&#x27;.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pull-requests"></a>Pull requests<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pull-requests" title="Direct link to heading">#</a></h2><p>Feature branches are pushed to, and when the feature is complete, a
pull request is created to request that the feature changes are &#x27;pulled&#x27; into
the master branch.</p><p>Pull requests will need to be reviewed and approved by another member of the
team before they are able to be merged. Additionally, a gated build should
be run and only allow the PR to be merged if it builds successfully. For more
information please see the section on <a href="#ci-and-cd-standards">CI/CD standards</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ignoring-files"></a>Ignoring files<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ignoring-files" title="Direct link to heading">#</a></h2><p>All repos should have <code>.gitignore</code> files in order to ignore any files that
should not be put in source control. A very easy way to generate these is by
using <a href="http://gitignore.io/" target="_blank" rel="noopener noreferrer">http://gitignore.io/</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="secrets"></a>Secrets<a aria-hidden="true" tabindex="-1" class="hash-link" href="#secrets" title="Direct link to heading">#</a></h2><p>Secrets <strong>SHOULD NOT</strong> be stored in source control. Under any circumstances.
If you&#x27;re ever thinking of putting one in source control, have a long walk,
take a breather, and then find an alternate solution to whatever it is you
think you&#x27;re doing. Because it&#x27;s not right.</p><p>If you accidentally commit a secret to source control, deleting the file and
committing again will not remove it. With access to the repo, someone can still
roll back and find the secret. You will need to go back and remove this file
from the cache. You also need to revoke the secret you committed, as you should
consider it to be automatically compromised.
This is a massive pain to do, and takes up a lot of time. So
the simple solution is to <strong>NOT STORE SECRETS IN SOURCE CONTROL</strong>.</p><p>If you ever need to remove a secret you&#x27;ve accidentally committed, see
<a href="https://help.github.com/en/articles/removing-sensitive-data-from-a-repository" target="_blank" rel="noopener noreferrer">the advice here</a>. But you shouldn&#x27;t need to, right?</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ci-and-cd-standards"></a>CI and CD standards<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ci-and-cd-standards" title="Direct link to heading">#</a></h1><p>All source controlled code projects need to have Azure DevOps pipelines for
both building and releasing the code. Standards won&#x27;t get too specific here,
as a lot of the actions that occur in a pipeline are quite bespoke and will
vary a lot depending on what is being built and where it&#x27;s being deployed
to.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="gated-build"></a>Gated build<a aria-hidden="true" tabindex="-1" class="hash-link" href="#gated-build" title="Direct link to heading">#</a></h2><p>This pipeline builds code from pull requests onto the master branch. Any code
that is requested to be merged onto the master branch must trigger a gated
build to run, which runs tests and validation on the repository to make sure
broken code/invalid config isn&#x27;t being merged into master.</p><p>This build is set up on the master branch&#x27;s branch policy to run as a build
validation step. If the build fails then the code will not be allowed to be
merged into master.</p><p>It should also check code coverage with services like Codecov and SonarCloud,
rejecting the PR if it&#x27;s not up to scratch.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ci-build-continuous-integration"></a>CI build (continuous integration)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ci-build-continuous-integration" title="Direct link to heading">#</a></h2><p>This pipeline builds code off of new commits to the master branch. Any time
there are new commits available in the master branch it should automatically
trigger and generate an artifact for the project with everything that will be
needed to deploy it.</p><p>These artifacts are kept in storage so that we can release new deployments and
roll back to old ones at whim.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cd-build-continuous-deployment"></a>CD build (continuous deployment)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cd-build-continuous-deployment" title="Direct link to heading">#</a></h2><p>When an artifact is ready after the CI build, it needs to be deployed
somewhere -- this is what release pipelines are for. Due to the fact that
projects are going to vary so much in terms of where they&#x27;re being deployed to
as well as how they should be deployed, it&#x27;s difficult to write standards for
this currently.</p><p>In general, the CD build needs to be:</p><ul><li>easy to roll back in the event of a failure</li><li>repeatable and idempotent</li><li>should require SRE approval to release to a production environment with many customers</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configuration-standards"></a>Configuration standards<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration-standards" title="Direct link to heading">#</a></h1><p>A lot of the software we write will require configuration files. It&#x27;s important
that these configuration files are standardised among all of our projects, so
things don&#x27;t start to get too different.</p><ul><li>Configuration files should be in YAML wherever possible</li><li>All configuration values should be well documented</li><li>Example configuration files must be provided</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="code-review-standards"></a>Code review standards<a aria-hidden="true" tabindex="-1" class="hash-link" href="#code-review-standards" title="Direct link to heading">#</a></h1><p>We will follow Google&#x27;s standards for how to do code reviews: <a href="https://google.github.io/eng-practices/review/reviewer/" target="_blank" rel="noopener noreferrer">https://google.github.io/eng-practices/review/reviewer/</a></p><p>If you need some advice on how to have your code reviewed, again, <a href="https://google.github.io/eng-practices/review/developer/handling-comments.html" target="_blank" rel="noopener noreferrer">Google has
us covered</a>.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="logging-standards"></a>Logging standards<a aria-hidden="true" tabindex="-1" class="hash-link" href="#logging-standards" title="Direct link to heading">#</a></h1><p>The general accepted format for a log string is the following:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{UTC-timestamp} [{log-level}] &lt;{file}:{line-number}&gt; {message}</span></div></div></div></div></div><p>For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-log codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">2019-09-06 10:47:50.099Z [DEBUG] &lt;mailsend.py:13&gt; Hello world!</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/glasswall-sre/glasswall-sre.github.io/docs/standards/software.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/products/rebuild-api/PRR"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« PRR</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#style-guides" class="table-of-contents__link">Style guides</a><ul><li><a href="#python" class="table-of-contents__link">Python</a></li></ul></li><li><a href="#code-documentation" class="table-of-contents__link">Code documentation</a></li><li><a href="#readmes" class="table-of-contents__link">READMEs</a></li><li><a href="#api-documentation" class="table-of-contents__link">API documentation</a></li><li><a href="#user-interface-documentation" class="table-of-contents__link">User interface documentation</a></li><li><a href="#config-documentation" class="table-of-contents__link">Config documentation</a></li><li><a href="#other-documentation" class="table-of-contents__link">Other documentation</a></li><li><a href="#python-1" class="table-of-contents__link">Python</a></li><li><a href="#branch-naming" class="table-of-contents__link">Branch naming</a></li><li><a href="#commit-messages" class="table-of-contents__link">Commit messages</a></li><li><a href="#pull-requests" class="table-of-contents__link">Pull requests</a></li><li><a href="#ignoring-files" class="table-of-contents__link">Ignoring files</a></li><li><a href="#secrets" class="table-of-contents__link">Secrets</a></li><li><a href="#gated-build" class="table-of-contents__link">Gated build</a></li><li><a href="#ci-build-continuous-integration" class="table-of-contents__link">CI build (continuous integration)</a></li><li><a href="#cd-build-continuous-deployment" class="table-of-contents__link">CD build (continuous deployment)</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/styles.98f7fc70.js"></script>
<script src="/runtime~main.c24d5074.js"></script>
<script src="/main.b6069879.js"></script>
<script src="/1.cc125361.js"></script>
<script src="/2.63ef8cf0.js"></script>
<script src="/29.08a3c920.js"></script>
<script src="/32.37601711.js"></script>
<script src="/935f2afb.3c11b80e.js"></script>
<script src="/17896441.202f344e.js"></script>
<script src="/3c2eea91.4d953a28.js"></script>
</body>
</html>