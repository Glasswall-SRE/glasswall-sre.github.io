(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{144:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return m}));var r=n(2),o=n(9),i=(n(0),n(164)),a=n(168),c={title:"Monitoring",description:"SRE Monitoring Solution"},s={id:"incident-monitoring/monitoring",title:"Monitoring",description:"SRE Monitoring Solution",source:"@site/docs/incident-monitoring/monitoring.mdx",permalink:"/docs/incident-monitoring/monitoring",editUrl:"https://github.com/glasswall-sre/glasswall-sre.github.io/docs/incident-monitoring/monitoring.mdx",sidebar:"docs",previous:{title:"Incident Management",permalink:"/docs/incident-monitoring/incident-management"},next:{title:"Introduction",permalink:"/docs/products/rebuild-email/introduction"}},l=[{value:"Logs and metrics",id:"logs-and-metrics",children:[]},{value:"DataDog",id:"datadog",children:[]},{value:"PagerDuty",id:"pagerduty",children:[]}],u={rightToc:l};function m(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("img",{alt:"Monitoring System",src:Object(a.a)("img/monitoring-solution.jpg")}),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"Overview of how we monitor our Production systems")),Object(i.b)("h2",{id:"logs-and-metrics"},"Logs and metrics"),Object(i.b)("p",null,"All services that we look after either produce logs or metrics. Both are key for us to monitor to make sure the systems are healthy and operating quickly."),Object(i.b)("p",null,"We process logging in the following format:"),Object(i.b)("p",null,"The generally accepted format for a log string is the following:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{}),"{UTC-timestamp} [{log-level}] <{file}:{line-number}> {message}\n")),Object(i.b)("p",null,"For example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-log"}),"2019-09-06 10:47:50.099Z [DEBUG] <mailsend.py:13> Hello world!\n")),Object(i.b)("p",null,"Logs include key information such as what the system is doing if it had any errors and external interactions with other services."),Object(i.b)("p",null,"Metrics time-series streams of timestamped values. For example, an API might have 4 requests for a specific endpoint each minute. A metric would be used to track this to track usage."),Object(i.b)("h2",{id:"datadog"},"DataDog"),Object(i.b)("p",null,"We use DataDog to consume all of our metrics, logs and integrate with our cloud providers. It is a SaaS DevOps monitoring solution that allows the SRE team to create monitors against all the logs and metrics we receive With these monitors we can alert our incident management\nsystem PagerDuty and slack."),Object(i.b)("h2",{id:"pagerduty"},"PagerDuty"),Object(i.b)("p",null,"We use PagerDuty to manage our incidents, schedule who's on call and automate the calling of a team member when an incident occurs."))}m.isMDXComponent=!0},164:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g}));var r=n(0),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),u=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},m=function(e){var t=u(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,a=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=u(n),d=r,g=m["".concat(a,".").concat(d)]||m[d]||p[d]||i;return n?o.a.createElement(g,c(c({ref:t},l),{},{components:n})):o.a.createElement(g,c({ref:t},l))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var l=2;l<i;l++)a[l]=n[l];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},165:function(e,t,n){"use strict";var r=n(0),o=n(54);t.a=function(){return Object(r.useContext)(o.a)}},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(173);var r=n(165);function o(e){var t=(Object(r.a)().siteConfig||{}).baseUrl,n=void 0===t?"/":t;if(!e)return e;return/^(https?:|\/\/)/.test(e)?e:e.startsWith("/")?n+e.slice(1):n+e}},173:function(e,t,n){"use strict";var r=n(17),o=n(35),i=n(177),a="".startsWith;r(r.P+r.F*n(178)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},177:function(e,t,n){var r=n(71),o=n(24);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},178:function(e,t,n){var r=n(3)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(o){}}return!0}}}]);